(function(t){function n(n){for(var i,o,r=n[0],l=n[1],u=n[2],c=0,p=[];c<r.length;c++)o=r[c],Object.prototype.hasOwnProperty.call(e,o)&&e[o]&&p.push(e[o][0]),e[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);h&&h(n);while(p.length)p.shift()();return a.push.apply(a,u||[]),s()}function s(){for(var t,n=0;n<a.length;n++){for(var s=a[n],i=!0,o=1;o<s.length;o++){var l=s[o];0!==e[l]&&(i=!1)}i&&(a.splice(n--,1),t=r(r.s=s[0]))}return t}var i={},e={app:0},a=[];function o(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"bcf622d2"}[t]+".js"}function r(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.e=function(t){var n=[],s=e[t];if(0!==s)if(s)n.push(s[2]);else{var i=new Promise((function(n,i){s=e[t]=[n,i]}));n.push(s[2]=i);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=o(t);var u=new Error;a=function(n){l.onerror=l.onload=null,clearTimeout(c);var s=e[t];if(0!==s){if(s){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",u.name="ChunkLoadError",u.type=i,u.request=a,s[1](u)}e[t]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(n)},r.m=t,r.c=i,r.d=function(t,n,s){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(s,i,function(n){return t[n]}.bind(null,i));return s},r.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=n,l=l.slice();for(var c=0;c<l.length;c++)n(l[c]);var h=u;a.push([0,"chunk-vendors"]),s()})({0:function(t,n,s){t.exports=s("56d7")},"0655":function(t,n,s){},2395:function(t,n,s){},4677:function(t,n,s){"use strict";s("0655")},"56d7":function(t,n,s){"use strict";s.r(n);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),e=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{attrs:{id:"app"}},[s("div",{attrs:{id:"nav"}},[s("router-link",{attrs:{to:"/"}})],1),s("router-view")],1)},a=[],o=(s("7c55"),s("2877")),r={},l=Object(o["a"])(r,e,a,!1,null,null,null),u=l.exports,c=(s("d3b7"),s("3ca3"),s("ddb0"),s("8c4f")),h=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"home"},[s("div",{staticClass:"main"},[s("div",{staticClass:"shadow",style:{backgroundImage:"url("+t.song_Info.img_url+")"}}),s("div",{staticClass:"content_wrapper"},[s("div",{staticClass:"title_wrapper"},[t._v(" "+t._s(t.song_Info.name)+" "),s("div",{staticClass:"search_input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search_song,expression:"search_song"}],attrs:{type:"text",placeholder:"请输入歌曲名"},domProps:{value:t.search_song},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.searchSong.apply(null,arguments)},input:[function(n){n.target.composing||(t.search_song=n.target.value)},t.inputListening],blur:t.onblur}})])]),s("div",{staticClass:"img_wrapper"},[s("div",{staticClass:"img",style:{backgroundImage:"url("+t.song_Info.img_url+")"}})]),s("div",{staticClass:"progress_wrapper"},[s("div",{ref:"progress_bar",staticClass:"progress_bar"},[s("span",[t._v(t._s(t.changeTime(t.currTime)))]),s("div",{ref:"progress",staticClass:"progress"},[s("div",{staticClass:"bar",style:{width:t.barWidth+"px"}},[s("div",{ref:"after",staticClass:"after",on:{touchstart:t.mousedown,touchmove:t.mousemove,touchend:t.mouseup}})])]),s("span",[t._v(t._s(t.changeTime(t.totalTime)))])]),s("div",{staticClass:"controls"},[s("div",{staticClass:"button prev",on:{click:t.prev_}},[s("i",{staticClass:"iconfont icon-houtui"})]),s("div",{staticClass:"button play"},[t.isshow?s("i",{staticClass:"iconfont icon-bofang",on:{click:t.onPlay}}):s("i",{staticClass:"iconfont icon-zantingtingzhi",on:{click:t.onPause}})]),s("div",{staticClass:"button next",on:{click:t.next_}},[s("i",{staticClass:"iconfont icon-qianjin"})])])]),s("audio",{ref:"audio",attrs:{src:t.song_Info.song_url}}),s("div",{staticClass:"down",class:{downActive:t.isdown}},[t.searchReplayData?s("ul",[t._l(t.searchReplayData,(function(n,i){return[s("li",{key:n+i,ref:"li",refInFor:!0,on:{mousedown:function(n){return n.stopPropagation(),t.chooseSong(i)}}},[t._v(" "+t._s(n.name)+" "),s("div",{staticClass:"singName"},[t._v(" "+t._s(n.singer)+" ")])])]}))],2):t._e()]),s("div",{staticClass:"playlist_btn"},[s("i",{staticClass:"iconfont icon-bofangliebiao",on:{click:t.playSong}})]),s("div",{staticClass:"play_list",class:{playActive:t.isActive}},[t.playList?s("ul",[t._l(t.playList,(function(n,i){return[s("li",{key:n+i,ref:"li",refInFor:!0,on:{mousedown:function(n){return n.stopPropagation(),t.choosePlayLostSong(i)}}},[t._v(" "+t._s(n.name)+" ")])]}))],2):t._e()])])])])},p=[],f=(s("b0c0"),s("4d90"),null);function d(t,n){var s=null;return function(){var i=this,e=arguments;s&&clearTimeout(s),s=setTimeout((function(){t.apply(i,e)}),n)}}var m={data:function(){return{song_Info:{name:"海阔天空",img_url:"https://p1.music.126.net/zZtUDuWk6qIe3ezMt4UMjg==/109951165796417308.jpg?param=130y130",song_url:"https://link.hhtjim.com/163/347230.mp3",song_num:"0"},currTime:0,totalTime:0,barWidth:0,isplay:!0,isshow:!0,isplaylist:"",count:0,search_song:"",searchReplayData:[],searchData_list:[],isdown:!0,playList:[],isActive:!0}},created:function(){f=this},mounted:function(){this.init()},methods:{init:function(){var t=this,n=this.$refs.audio;n.addEventListener("canplay",(function(){t.totalTime=0,t.totalTime||(t.totalTime=Math.floor(n.duration))})),n.addEventListener("timeupdate",(function(){t.onUpdate()}))},onPlay:function(){var t=this;this.$nextTick((function(){if(t.$refs.audio.play(),t.onUpdate(),t.isplay=!1,t.isshow=!1,0===t.playList.length)t.addPlayList();else{for(var n in t.playList)if(t.playList[n].name==t.song_Info.name)return console.log("歌曲已经在播放列表中了111");t.addPlayList()}}))},onPause:function(){this.$refs.audio.pause(),this.isplay=!0,this.isshow=!0},onUpdate:function(){this.currTime=Math.floor(this.$refs.audio.currentTime),this.setBarWidth()},setBarWidth:function(){var t=this.$refs.progress;if(!t)return 0;var n=t.clientWidth,s=this.currTime/this.totalTime;this.barWidth=n*s},mousedown:function(){this.onPause()},mousemove:function(t){var n=t.touches[0].clientX,s=this.$refs.audio,i=this.$refs.progress;if(!i)return 0;var e=i.clientWidth;n>=85&&n<315&&(this.barWidth=n-85,s.currentTime=this.totalTime*this.barWidth/e)},mouseup:function(){this.isplay?this.onPause():this.onPlay()},prev_:function(){var t=this,n="";if(0==this.playList.length)console.log("播放列表为空");else{for(var s in this.playList)this.playList[s].name===this.song_Info.name&&(n=s);this.song_Info=0==n?this.playList[this.playList.length-1]:this.playList[+n-1]}this.$nextTick((function(){t.isplay?(t.$refs.audio.pause(),t.onUpdate(),t.isplay=!0,t.isshow=!0):(t.$refs.audio.play(),t.onUpdate(),t.isplay=!1,t.isshow=!1)}))},next_:function(){var t=this,n="";if(0==this.playList.length)console.log("播放列表为空");else{for(var s in this.playList)this.playList[s].name===this.song_Info.name&&(n=s);n==this.playList.length-1?this.song_Info=this.playList[0]:this.song_Info=this.playList[+n+1]}this.$nextTick((function(){t.isplay?(t.$refs.audio.pause(),t.onUpdate(),t.isplay=!0,t.isshow=!0):(t.$refs.audio.play(),t.onUpdate(),t.isplay=!1,t.isshow=!1)}))},inputListening:d((function(){f.search_song||(f.isdown=!0)}),200),searchSong:function(){var t=this;this.axios.get("https://autumnfish.cn/search?keywords="+this.search_song).then((function(n){var s=n.data.result.songs,i=t.searchReplayData;for(var e in s){var a={};a.num=+e+1,a.albumId=s[e].album.id,a.songId=s[e].id,a.name=s[e].name,a.singer=s[e].artists[0].name,i.push(a)}for(var o in i)i[o].songurl="https://link.hhtjim.com/163/"+i[o].songId+".mp3",i[o].album_imgurl="https://autumnfish.cn/playlist/cover/update?id="+i[o].albumId;t.isdown=!1}))},set_albumImg:function(){this.axios.get(this.searchReplayData.album_imgurl).then((function(t){console.log(t)}))},onblur:function(){this.search_song&&(this.isdown=!0),this.searchReplayData=[]},chooseSong:function(t){var n=this,s=this.searchReplayData,i=this.song_Info;if(i.name=s[t].name,i.song_url=s[t].songurl,i.song_num=s[t].num,0===this.playList.length)this.addPlayList();else{for(var e in this.playList)if(this.playList[e].name==i.name)return console.log("歌曲已经在播放列表中了222"),this.song_Info=this.playList[e];this.addPlayList()}this.$nextTick((function(){n.isplay?(n.$refs.audio.pause(),n.onUpdate(),n.isplay=!0,n.isshow=!0):(n.$refs.audio.play(),n.onUpdate(),n.isplay=!1,n.isshow=!1)}))},changeTime:function(t){var n="".concat(t%60).padStart(2,"0"),s="".concat(Math.floor(t/60)).padStart(2,"0");return s+":"+n},addPlayList:function(){var t={};t.name=this.song_Info.name,t.song_url=this.song_Info.song_url,t.img_url=this.song_Info.img_url,this.playList.push(t)},playSong:function(){0==this.playList.length?console.log("播放列表暂时没有歌曲噢"):this.isActive=!this.isActive},choosePlayLostSong:function(t){var n=this.playList,s=this.song_Info;s.name=n[t].name,s.song_url=n[t].songurl,s.song_num=n[t].num,this.isplay?this.onPause():this.onPlay(),this.isActive=!0}}},g=m,y=(s("4677"),Object(o["a"])(g,h,p,!1,null,"3c8217da",null)),v=y.exports;i["a"].use(c["a"]);var _=[{path:"/",name:"Home",component:v},{path:"/about",name:"About",component:function(){return s.e("about").then(s.bind(null,"f820"))}}],b=new c["a"]({mode:"history",base:"/",routes:_}),w=b,L=s("2f62");i["a"].use(L["a"]);var C=new L["a"].Store({state:{},mutations:{},actions:{},modules:{}}),k=s("bc3a"),P=s.n(k),I=s("130e");i["a"].use(I["a"],P.a),i["a"].config.productionTip=!1,new i["a"]({router:w,store:C,render:function(t){return t(u)}}).$mount("#app")},"7c55":function(t,n,s){"use strict";s("2395")}});
//# sourceMappingURL=app.4ce30157.js.map